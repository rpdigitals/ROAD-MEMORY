{"remainingRequest":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/babel-loader/lib/index.js!/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/dashboard-script.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/dashboard-script.js","mtime":1677094285953},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/.babelrc","mtime":1676921129825},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/cache-loader/dist/cjs.js","mtime":1676921331329},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/babel-loader/lib/index.js","mtime":1676921333256}],"contextDependencies":[],"result":["import { StatsCard, ChartCard } from \"@/components/index\";\nimport Dashboard from \"../services/dashboard-request.js\";\nimport Chartist from \"chartist\";\nexport default {\n  components: {\n    StatsCard: StatsCard,\n    ChartCard: ChartCard\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data: function data() {\n    return {\n      statsCards: [{\n        type: \"info\",\n        icon: \"ti-bar-chart\",\n        title: \"Services\",\n        value: 0\n      }, {\n        type: \"success\",\n        icon: \"ti-wallet\",\n        title: \"xof\",\n        value: \"2000\"\n      }, {\n        type: \"danger\",\n        icon: \"ti-shopping-cart\",\n        title: \"Reservations\",\n        value: 0\n      }, {\n        type: \"warning\",\n        icon: \"ti-thumb-up\",\n        title: \"Avis Positifs\",\n        value: \"+45\"\n      }]\n    };\n  },\n  methods: {\n    reservationInfo: function reservationInfo() {\n      var _this = this;\n      Dashboard.booking(sessionStorage.getItem(\"partnerId\")).then(function (response) {\n        var numberOfBookings = 0;\n        for (var x in response.data.tourBookings) {\n          numberOfBookings += response.data.tourBookings[x].length;\n        }\n        for (var x in response.data.hotelBookings) {\n          numberOfBookings += response.data.hotelBookings[x].length;\n        }\n        for (var x in response.data.restoBookings) {\n          numberOfBookings += response.data.restoBookings[x].length;\n        }\n        _this.statsCards[2].value = numberOfBookings;\n      });\n    },\n    serviceInfo: function serviceInfo() {\n      var _this2 = this;\n      Dashboard.service(sessionStorage.getItem(\"partnerId\")).then(function (response) {\n        console.log(response.data);\n        // var numberOfServices =\n        //   response.data.hotels.length +\n        //   response.data.restos.length +\n        //   response.data.tours.length +\n        //   response.data.cars.length;\n        _this2.statsCards[0].value = numberOfServices;\n      });\n    } // register(){\n    //   Dashboard.register({\n    //     name:\"Third Partner\",\n    //     email:\"third@partner.com\",\n    //     password:\"thirdpartner\"\n    //   }).then((response) => { console.log(response.data)})\n    // }\n  },\n  mounted: function mounted() {\n    // this.register();\n    sessionStorage.setItem(\"partnerId\", 1);\n    this.reservationInfo();\n    this.serviceInfo();\n  }\n};",{"version":3,"names":["StatsCard","ChartCard","Dashboard","Chartist","components","data","statsCards","type","icon","title","value","methods","reservationInfo","_this","booking","sessionStorage","getItem","then","response","numberOfBookings","x","tourBookings","length","hotelBookings","restoBookings","serviceInfo","_this2","service","console","log","numberOfServices","mounted","setItem"],"sources":["/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/dashboard-script.js"],"sourcesContent":["import { StatsCard, ChartCard } from \"@/components/index\";\nimport Dashboard from \"../services/dashboard-request.js\";\nimport Chartist from \"chartist\";\nexport default {\n  components: {\n    StatsCard,\n    ChartCard,\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data() {\n    return {\n      statsCards: [\n        {\n          type: \"info\",\n          icon: \"ti-bar-chart\",\n          title: \"Services\",\n          value: 0,\n        },\n        {\n          type: \"success\",\n          icon: \"ti-wallet\",\n          title: \"xof\",\n          value: \"2000\",\n        },\n        {\n          type: \"danger\",\n          icon: \"ti-shopping-cart\",\n          title: \"Reservations\",\n          value: 0,\n        },\n        {\n          type: \"warning\",\n          icon: \"ti-thumb-up\",\n          title: \"Avis Positifs\",\n          value: \"+45\",\n        },\n      ],\n    };\n  },\n  methods: {\n    reservationInfo() {\n      Dashboard.booking(sessionStorage.getItem(\"partnerId\")).then(\n        (response) => {\n          var numberOfBookings = 0;\n          for (var x in response.data.tourBookings) {\n            numberOfBookings += response.data.tourBookings[x].length;\n          }\n          for (var x in response.data.hotelBookings) {\n            numberOfBookings += response.data.hotelBookings[x].length;\n          }\n          for (var x in response.data.restoBookings) {\n            numberOfBookings += response.data.restoBookings[x].length;\n          }\n\n          this.statsCards[2].value = numberOfBookings;\n        }\n      );\n    },\n    serviceInfo() {\n      Dashboard.service(sessionStorage.getItem(\"partnerId\")).then(\n        (response) => {\n          console.log(response.data);\n          // var numberOfServices =\n          //   response.data.hotels.length +\n          //   response.data.restos.length +\n          //   response.data.tours.length +\n          //   response.data.cars.length;\n           this.statsCards[0].value = numberOfServices;\n        }\n      );\n    },\n    // register(){\n    //   Dashboard.register({\n    //     name:\"Third Partner\",\n    //     email:\"third@partner.com\",\n    //     password:\"thirdpartner\"\n    //   }).then((response) => { console.log(response.data)})\n    // }\n  },\n  mounted() {\n    // this.register();\n    sessionStorage.setItem(\"partnerId\", 1);\n    this.reservationInfo();\n    this.serviceInfo();\n  },\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,SAAS,QAAQ,oBAAoB;AACzD,OAAOC,SAAS;AAChB,OAAOC,QAAQ,MAAM,UAAU;AAC/B,eAAe;EACbC,UAAU,EAAE;IACVJ,SAAS,EAATA,SAAS;IACTC,SAAS,EAATA;EACF,CAAC;EACD;AACF;AACA;EACEI,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,UAAU,EAAE,CACV;QACEC,IAAI,EAAE,MAAM;QACZC,IAAI,EAAE,cAAc;QACpBC,KAAK,EAAE,UAAU;QACjBC,KAAK,EAAE;MACT,CAAC,EACD;QACEH,IAAI,EAAE,SAAS;QACfC,IAAI,EAAE,WAAW;QACjBC,KAAK,EAAE,KAAK;QACZC,KAAK,EAAE;MACT,CAAC,EACD;QACEH,IAAI,EAAE,QAAQ;QACdC,IAAI,EAAE,kBAAkB;QACxBC,KAAK,EAAE,cAAc;QACrBC,KAAK,EAAE;MACT,CAAC,EACD;QACEH,IAAI,EAAE,SAAS;QACfC,IAAI,EAAE,aAAa;QACnBC,KAAK,EAAE,eAAe;QACtBC,KAAK,EAAE;MACT,CAAC;IAEL,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,eAAe,WAAAA,gBAAA,EAAG;MAAA,IAAAC,KAAA;MAChBX,SAAS,CAACY,OAAO,CAACC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CAACC,IAAI,CACzD,UAACC,QAAQ,EAAK;QACZ,IAAIC,gBAAgB,GAAG,CAAC;QACxB,KAAK,IAAIC,CAAC,IAAIF,QAAQ,CAACb,IAAI,CAACgB,YAAY,EAAE;UACxCF,gBAAgB,IAAID,QAAQ,CAACb,IAAI,CAACgB,YAAY,CAACD,CAAC,CAAC,CAACE,MAAM;QAC1D;QACA,KAAK,IAAIF,CAAC,IAAIF,QAAQ,CAACb,IAAI,CAACkB,aAAa,EAAE;UACzCJ,gBAAgB,IAAID,QAAQ,CAACb,IAAI,CAACkB,aAAa,CAACH,CAAC,CAAC,CAACE,MAAM;QAC3D;QACA,KAAK,IAAIF,CAAC,IAAIF,QAAQ,CAACb,IAAI,CAACmB,aAAa,EAAE;UACzCL,gBAAgB,IAAID,QAAQ,CAACb,IAAI,CAACmB,aAAa,CAACJ,CAAC,CAAC,CAACE,MAAM;QAC3D;QAEAT,KAAI,CAACP,UAAU,CAAC,CAAC,CAAC,CAACI,KAAK,GAAGS,gBAAgB;MAC7C,CAAC,CACF;IACH,CAAC;IACDM,WAAW,WAAAA,YAAA,EAAG;MAAA,IAAAC,MAAA;MACZxB,SAAS,CAACyB,OAAO,CAACZ,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,CAACC,IAAI,CACzD,UAACC,QAAQ,EAAK;QACZU,OAAO,CAACC,GAAG,CAACX,QAAQ,CAACb,IAAI,CAAC;QAC1B;QACA;QACA;QACA;QACA;QACCqB,MAAI,CAACpB,UAAU,CAAC,CAAC,CAAC,CAACI,KAAK,GAAGoB,gBAAgB;MAC9C,CAAC,CACF;IACH,CAAC,CACD;IACA;IACA;IACA;IACA;IACA;IACA;EACF,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IACR;IACAhB,cAAc,CAACiB,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC;IACtC,IAAI,CAACpB,eAAe,EAAE;IACtB,IAAI,CAACa,WAAW,EAAE;EACpB;AACF,CAAC"}]}