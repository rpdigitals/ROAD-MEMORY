{"remainingRequest":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Admin/node_modules/babel-loader/lib/index.js!/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Admin/src/script/news.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Admin/src/script/news.js","mtime":1677349934875},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Admin/node_modules/cache-loader/dist/cjs.js","mtime":1676921331329},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Admin/node_modules/babel-loader/lib/index.js","mtime":1676921333256}],"contextDependencies":[],"result":["import News from \"../services/news-request\";\nexport default {\n  data() {\n    return {\n      showModal: false,\n      showEditModal: false,\n      title: \"\",\n      titleUpdated: \"\",\n      content: \"\",\n      contentUpdated: \"\",\n      news: []\n    };\n  },\n  methods: {\n    showNewsModal() {\n      this.showModal = true;\n    },\n    showEditNewsModal(id) {\n      this.showEditModal = true;\n      this.newsToEditId = id;\n    },\n    addNews() {\n      this.showEditModal = false;\n      let partnerId = sessionStorage.getItem(\"partnerId\");\n      News.createNews({\n        title: this.title,\n        content: this.content,\n        partner_id: partnerId\n      }).then(response => {\n        console.log(response.data);\n        this.showModal = false;\n        this.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News publié avec succès\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        this.allNews();\n      });\n    },\n    editNews() {\n      this.showEditModal = false;\n      let partnerId = sessionStorage.getItem(\"partnerId\");\n      News.updateNews({\n        title: this.titleUpdated,\n        content: this.contentUpdated\n      }, this.newsToEditId).then(response => {\n        console.log(response.data);\n        this.showModal = false;\n        this.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News modifiée avec succès\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        this.allNews();\n      });\n    },\n    deleteNews(id) {\n      console.log(\"id\");\n      const swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Êtes vous sûres ?\",\n        text: \"Cet action sera irreversible!\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonText: \"OUI, Supprimer!\",\n        cancelButtonText: \"Non, Annuler!\",\n        reverseButtons: true\n      }).then(result => {\n        if (result.isConfirmed) {\n          News.deleteNews(id).then(response => {\n            swalWithBootstrapButtons.fire(\"Supprimé!\", \"Ce news a été suprimé.\", \"success\");\n            this.allNews();\n          });\n        } else if ( /* Read more about handling dismissals below */\n        result.dismiss === Swal.DismissReason.cancel) {\n          swalWithBootstrapButtons.fire(\"Cancelled\", \"Your imaginary file is safe :)\", \"error\");\n        }\n      });\n    },\n    allNews() {\n      News.allNews(sessionStorage.getItem(\"partnerId\")).then(response => {\n        this.news = response.data;\n      });\n    }\n  },\n  mounted() {\n    this.allNews();\n  }\n};",{"version":3,"names":["News","data","showModal","showEditModal","title","titleUpdated","content","contentUpdated","news","methods","showNewsModal","showEditNewsModal","id","newsToEditId","addNews","partnerId","sessionStorage","getItem","createNews","partner_id","then","response","console","log","$swal","fire","position","icon","showConfirmButton","timer","allNews","editNews","updateNews","deleteNews","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","text","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","result","isConfirmed","dismiss","Swal","DismissReason","cancel","mounted"],"sources":["/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Admin/src/script/news.js"],"sourcesContent":["import News from \"../services/news-request\";\n\nexport default {\n  data() {\n    return {\n      showModal: false,\n      showEditModal: false,\n      title: \"\",\n      titleUpdated: \"\",\n      content: \"\",\n      contentUpdated: \"\",\n      news: [],\n    };\n  },\n  methods: {\n    showNewsModal() {\n      this.showModal = true;\n    },\n    showEditNewsModal(id) {\n      this.showEditModal = true;\n      this.newsToEditId = id;\n    },\n    addNews() {\n      this.showEditModal = false;\n\n      let partnerId = sessionStorage.getItem(\"partnerId\");\n      News.createNews({\n        title: this.title,\n        content: this.content,\n        partner_id: partnerId,\n      }).then((response) => {\n        console.log(response.data);\n        this.showModal = false;\n        this.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News publié avec succès\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        this.allNews();\n      });\n    },\n    editNews() {\n      this.showEditModal = false;\n      let partnerId = sessionStorage.getItem(\"partnerId\");\n\n      News.updateNews(\n        {\n          title: this.titleUpdated,\n          content: this.contentUpdated,\n        },\n        this.newsToEditId\n      ).then((response) => {\n        console.log(response.data);\n        this.showModal = false;\n        this.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News modifiée avec succès\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        this.allNews();\n      });\n    },\n    deleteNews(id) {\n      console.log(\"id\");\n      const swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger\",\n        },\n        buttonsStyling: false,\n      });\n\n      swalWithBootstrapButtons\n        .fire({\n          title: \"Êtes vous sûres ?\",\n          text: \"Cet action sera irreversible!\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonText: \"OUI, Supprimer!\",\n          cancelButtonText: \"Non, Annuler!\",\n          reverseButtons: true,\n        })\n        .then((result) => {\n          if (result.isConfirmed) {\n            News.deleteNews(id).then((response) => {\n              swalWithBootstrapButtons.fire(\n                \"Supprimé!\",\n                \"Ce news a été suprimé.\",\n                \"success\"\n              );\n              this.allNews();\n            });\n          } else if (\n            /* Read more about handling dismissals below */\n            result.dismiss === Swal.DismissReason.cancel\n          ) {\n            swalWithBootstrapButtons.fire(\n              \"Cancelled\",\n              \"Your imaginary file is safe :)\",\n              \"error\"\n            );\n          }\n        });\n    },\n    allNews() {\n      News.allNews(sessionStorage.getItem(\"partnerId\")).then((response) => {\n        this.news = response.data;\n      });\n    },\n  },\n  mounted() {\n    this.allNews();\n  },\n};\n"],"mappings":"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"}]}