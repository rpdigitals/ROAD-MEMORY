{"remainingRequest":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/babel-loader/lib/index.js!/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/news.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/news.js","mtime":1677349934875},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/.babelrc","mtime":1676921129825},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/cache-loader/dist/cjs.js","mtime":1676921331329},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/babel-loader/lib/index.js","mtime":1676921333256}],"contextDependencies":[],"result":["import News from \"../services/news-request\";\nexport default {\n  data: function data() {\n    return {\n      showModal: false,\n      showEditModal: false,\n      title: \"\",\n      titleUpdated: \"\",\n      content: \"\",\n      contentUpdated: \"\",\n      news: []\n    };\n  },\n  methods: {\n    showNewsModal: function showNewsModal() {\n      this.showModal = true;\n    },\n    showEditNewsModal: function showEditNewsModal(id) {\n      this.showEditModal = true;\n      this.newsToEditId = id;\n    },\n    addNews: function addNews() {\n      var _this = this;\n      this.showEditModal = false;\n      var partnerId = sessionStorage.getItem(\"partnerId\");\n      News.createNews({\n        title: this.title,\n        content: this.content,\n        partner_id: partnerId\n      }).then(function (response) {\n        console.log(response.data);\n        _this.showModal = false;\n        _this.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News publié avec succès\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        _this.allNews();\n      });\n    },\n    editNews: function editNews() {\n      var _this2 = this;\n      this.showEditModal = false;\n      var partnerId = sessionStorage.getItem(\"partnerId\");\n      News.updateNews({\n        title: this.titleUpdated,\n        content: this.contentUpdated\n      }, this.newsToEditId).then(function (response) {\n        console.log(response.data);\n        _this2.showModal = false;\n        _this2.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News modifiée avec succès\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n        _this2.allNews();\n      });\n    },\n    deleteNews: function deleteNews(id) {\n      var _this3 = this;\n      console.log(\"id\");\n      var swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger\"\n        },\n        buttonsStyling: false\n      });\n      swalWithBootstrapButtons.fire({\n        title: \"Êtes vous sûres ?\",\n        text: \"Cet action sera irreversible!\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonText: \"OUI, Supprimer!\",\n        cancelButtonText: \"Non, Annuler!\",\n        reverseButtons: true\n      }).then(function (result) {\n        if (result.isConfirmed) {\n          News.deleteNews(id).then(function (response) {\n            swalWithBootstrapButtons.fire(\"Supprimé!\", \"Ce news a été suprimé.\", \"success\");\n            _this3.allNews();\n          });\n        } else if ( /* Read more about handling dismissals below */\n        result.dismiss === Swal.DismissReason.cancel) {\n          swalWithBootstrapButtons.fire(\"Cancelled\", \"Your imaginary file is safe :)\", \"error\");\n        }\n      });\n    },\n    allNews: function allNews() {\n      var _this4 = this;\n      News.allNews(sessionStorage.getItem(\"partnerId\")).then(function (response) {\n        _this4.news = response.data;\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.allNews();\n  }\n};",{"version":3,"names":["News","data","showModal","showEditModal","title","titleUpdated","content","contentUpdated","news","methods","showNewsModal","showEditNewsModal","id","newsToEditId","addNews","_this","partnerId","sessionStorage","getItem","createNews","partner_id","then","response","console","log","$swal","fire","position","icon","showConfirmButton","timer","allNews","editNews","_this2","updateNews","deleteNews","_this3","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","text","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","result","isConfirmed","dismiss","Swal","DismissReason","cancel","_this4","mounted"],"sources":["/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/news.js"],"sourcesContent":["import News from \"../services/news-request\";\n\nexport default {\n  data() {\n    return {\n      showModal: false,\n      showEditModal: false,\n      title: \"\",\n      titleUpdated: \"\",\n      content: \"\",\n      contentUpdated: \"\",\n      news: [],\n    };\n  },\n  methods: {\n    showNewsModal() {\n      this.showModal = true;\n    },\n    showEditNewsModal(id) {\n      this.showEditModal = true;\n      this.newsToEditId = id;\n    },\n    addNews() {\n      this.showEditModal = false;\n\n      let partnerId = sessionStorage.getItem(\"partnerId\");\n      News.createNews({\n        title: this.title,\n        content: this.content,\n        partner_id: partnerId,\n      }).then((response) => {\n        console.log(response.data);\n        this.showModal = false;\n        this.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News publié avec succès\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        this.allNews();\n      });\n    },\n    editNews() {\n      this.showEditModal = false;\n      let partnerId = sessionStorage.getItem(\"partnerId\");\n\n      News.updateNews(\n        {\n          title: this.titleUpdated,\n          content: this.contentUpdated,\n        },\n        this.newsToEditId\n      ).then((response) => {\n        console.log(response.data);\n        this.showModal = false;\n        this.$swal.fire({\n          position: \"top-end\",\n          icon: \"success\",\n          title: \"News modifiée avec succès\",\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        this.allNews();\n      });\n    },\n    deleteNews(id) {\n      console.log(\"id\");\n      const swalWithBootstrapButtons = this.$swal.mixin({\n        customClass: {\n          confirmButton: \"btn btn-success\",\n          cancelButton: \"btn btn-danger\",\n        },\n        buttonsStyling: false,\n      });\n\n      swalWithBootstrapButtons\n        .fire({\n          title: \"Êtes vous sûres ?\",\n          text: \"Cet action sera irreversible!\",\n          icon: \"warning\",\n          showCancelButton: true,\n          confirmButtonText: \"OUI, Supprimer!\",\n          cancelButtonText: \"Non, Annuler!\",\n          reverseButtons: true,\n        })\n        .then((result) => {\n          if (result.isConfirmed) {\n            News.deleteNews(id).then((response) => {\n              swalWithBootstrapButtons.fire(\n                \"Supprimé!\",\n                \"Ce news a été suprimé.\",\n                \"success\"\n              );\n              this.allNews();\n            });\n          } else if (\n            /* Read more about handling dismissals below */\n            result.dismiss === Swal.DismissReason.cancel\n          ) {\n            swalWithBootstrapButtons.fire(\n              \"Cancelled\",\n              \"Your imaginary file is safe :)\",\n              \"error\"\n            );\n          }\n        });\n    },\n    allNews() {\n      News.allNews(sessionStorage.getItem(\"partnerId\")).then((response) => {\n        this.news = response.data;\n      });\n    },\n  },\n  mounted() {\n    this.allNews();\n  },\n};\n"],"mappings":"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"}]}