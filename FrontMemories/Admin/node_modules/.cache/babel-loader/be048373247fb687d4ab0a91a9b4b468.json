{"remainingRequest":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/babel-loader/lib/index.js!/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/dashboard-script.js?vue&type=script&lang=js&","dependencies":[{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/dashboard-script.js","mtime":1677706044953},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/.babelrc","mtime":1676921129825},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/cache-loader/dist/cjs.js","mtime":1676921331329},{"path":"/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/node_modules/babel-loader/lib/index.js","mtime":1676921333256}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport { StatsCard, ChartCard } from \"@/components/index\";\nimport Dashboard from \"../services/dashboard-request.js\";\nimport Chartist from \"chartist\";\nimport { VueCookieNext } from \"vue-cookie\";\nexport default {\n  components: {\n    StatsCard: StatsCard,\n    ChartCard: ChartCard\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data: function data() {\n    return {\n      statsCards: [{\n        type: \"info\",\n        icon: \"ti-bar-chart\",\n        title: \"Services\",\n        value: 0\n      }, {\n        type: \"success\",\n        icon: \"ti-wallet\",\n        title: \"xof\",\n        value: \"2000\"\n      }, {\n        type: \"danger\",\n        icon: \"ti-shopping-cart\",\n        title: \"Reservations\",\n        value: 0\n      }, {\n        type: \"warning\",\n        icon: \"ti-thumb-up\",\n        title: \"Avis Positifs\",\n        value: \"+45\"\n      }]\n    };\n  },\n  methods: {\n    reservationInfo: function reservationInfo() {\n      var _this = this;\n      Dashboard.booking(sessionStorage.getItem(\"partnerId\")).then(function (response) {\n        var numberOfBookings = 0;\n        for (var x in response.data.tourBookings) {\n          numberOfBookings += response.data.tourBookings[x].length;\n        }\n        for (var x in response.data.hotelBookings) {\n          numberOfBookings += response.data.hotelBookings[x].length;\n        }\n        for (var x in response.data.restoBookings) {\n          numberOfBookings += response.data.restoBookings[x].length;\n        }\n        _this.statsCards[2].value = numberOfBookings;\n      });\n    },\n    serviceInfo: function serviceInfo() {\n      var _this2 = this;\n      if (sessionStorage.getItem(\"partnerId\") == \"\" || sessionStorage.getItem(\"partnerId\") == null) {\n        this.$router.push;\n      }\n      Dashboard.service(sessionStorage.getItem(\"partnerId\")).then(function (response) {\n        // var numberOfServices =\n        //   response.data.hotels.length +\n        //   response.data.restos.length +\n        //   response.data.tours.length +\n        //   response.data.cars.length;\n        _this2.statsCards[0].value = response.data;\n      });\n    },\n    deleteAllCookies: function deleteAllCookies() {\n      var cookies = document.cookie.split(\";\");\n      for (var i = 0; i < cookies.length; i++) {\n        var cookie = cookies[i];\n        var eqPos = cookie.indexOf(\"=\");\n        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n        document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n      }\n    }\n  },\n  mounted: function mounted() {\n    // sessionStorage.clear();\n    // this.deleteAllCookies();\n\n    // if (\n    //   (sessionStorage.getItem(\"partnerId\") !== \"\") &\n    //   (sessionStorage.getItem(\"partnerId\") !== null)\n    // ) {\n    //   this.reservationInfo();\n    //   this.serviceInfo();\n    //   this.deleteAllCookies();\n    // } else {\n    //   sessionStorage.setItem(\"partnerId\", document.cookie.substring(20));\n    //   this.reservationInfo();\n    //   this.serviceInfo();\n    //   this.deleteAllCookies();\n    //   if (\n    //     (sessionStorage.getItem(\"partnerId\") !== \"\") &\n    //     (sessionStorage.getItem(\"partnerId\") !== null)\n    //   ) {\n    //     sessionStorage.setItem(\"userId\", document.cookie.trim().substring(17));\n    //     this.deleteAllCookies();\n    //   }\n    // }\n  }\n};",{"version":3,"names":["StatsCard","ChartCard","Dashboard","Chartist","VueCookieNext","components","data","statsCards","type","icon","title","value","methods","reservationInfo","_this","booking","sessionStorage","getItem","then","response","numberOfBookings","x","tourBookings","length","hotelBookings","restoBookings","serviceInfo","_this2","$router","push","service","deleteAllCookies","cookies","document","cookie","split","i","eqPos","indexOf","name","substr","mounted"],"sources":["/Users/raphaelb/Documents/Projects/KOFCORP/ROAD-MEMORY/FrontMemories/Partners/src/script/dashboard-script.js"],"sourcesContent":["import { StatsCard, ChartCard } from \"@/components/index\";\nimport Dashboard from \"../services/dashboard-request.js\";\nimport Chartist from \"chartist\";\nimport { VueCookieNext } from \"vue-cookie\";\nexport default {\n  components: {\n    StatsCard,\n    ChartCard,\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data() {\n    return {\n      statsCards: [\n        {\n          type: \"info\",\n          icon: \"ti-bar-chart\",\n          title: \"Services\",\n          value: 0,\n        },\n        {\n          type: \"success\",\n          icon: \"ti-wallet\",\n          title: \"xof\",\n          value: \"2000\",\n        },\n        {\n          type: \"danger\",\n          icon: \"ti-shopping-cart\",\n          title: \"Reservations\",\n          value: 0,\n        },\n        {\n          type: \"warning\",\n          icon: \"ti-thumb-up\",\n          title: \"Avis Positifs\",\n          value: \"+45\",\n        },\n      ],\n    };\n  },\n  methods: {\n    reservationInfo() {\n      Dashboard.booking(sessionStorage.getItem(\"partnerId\")).then(\n        (response) => {\n          var numberOfBookings = 0;\n          for (var x in response.data.tourBookings) {\n            numberOfBookings += response.data.tourBookings[x].length;\n          }\n          for (var x in response.data.hotelBookings) {\n            numberOfBookings += response.data.hotelBookings[x].length;\n          }\n          for (var x in response.data.restoBookings) {\n            numberOfBookings += response.data.restoBookings[x].length;\n          }\n\n          this.statsCards[2].value = numberOfBookings;\n        }\n      );\n    },\n    serviceInfo() {\n      if (\n        sessionStorage.getItem(\"partnerId\") == \"\" ||\n        sessionStorage.getItem(\"partnerId\") == null\n      ) {\n        this.$router.push;\n      }\n      Dashboard.service(sessionStorage.getItem(\"partnerId\")).then(\n        (response) => {\n          // var numberOfServices =\n          //   response.data.hotels.length +\n          //   response.data.restos.length +\n          //   response.data.tours.length +\n          //   response.data.cars.length;\n          this.statsCards[0].value = response.data;\n        }\n      );\n    },\n    deleteAllCookies() {\n      const cookies = document.cookie.split(\";\");\n      for (let i = 0; i < cookies.length; i++) {\n        const cookie = cookies[i];\n        const eqPos = cookie.indexOf(\"=\");\n        const name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n        document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n      }\n    },\n  },\n  mounted() {\n    // sessionStorage.clear();\n    // this.deleteAllCookies();\n\n    // if (\n    //   (sessionStorage.getItem(\"partnerId\") !== \"\") &\n    //   (sessionStorage.getItem(\"partnerId\") !== null)\n    // ) {\n    //   this.reservationInfo();\n    //   this.serviceInfo();\n    //   this.deleteAllCookies();\n    // } else {\n    //   sessionStorage.setItem(\"partnerId\", document.cookie.substring(20));\n    //   this.reservationInfo();\n    //   this.serviceInfo();\n    //   this.deleteAllCookies();\n    //   if (\n    //     (sessionStorage.getItem(\"partnerId\") !== \"\") &\n    //     (sessionStorage.getItem(\"partnerId\") !== null)\n    //   ) {\n    //     sessionStorage.setItem(\"userId\", document.cookie.trim().substring(17));\n    //     this.deleteAllCookies();\n    //   }\n    // }\n  },\n};\n"],"mappings":"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"}]}